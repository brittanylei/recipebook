{% extends 'base.html' %}

{% block content %}

{% if recipe %}
    <br><h3>Edit {{ recipe.name }}</h3>
{% endif %}

<form method="POST" action="" enctype="multipart/form-data">
  {% csrf_token %}<br>
  <div class="form-group">
      <label>{{ form.name.label }}</label>
      {{ form.name }}
  </div>

  <div class="form-group">
      <label>Cover: </label> {{ form.cover_img }}
  </div>

  <div class="form-group">
      <label>{{ form.categories.label }}<a href = "{% url 'recipes:add-category' %}"> + </a></label><br>
      <div class="categorycontainer">
          {% for category in form.categories %}
            {{ category }}<br>
          {% endfor %}
      </div>

  </div>

  <div class="form-group">
      {{ formset.management_form }}
      <label> Ingredients </label><br>
      <div class="ingredientcontainer">
          {% for form in formset %}
            {{ form }}<br>
          {% endfor %}
      </div>

  </div>

  <div class="form-group">
      <label>{{ form.recipe_ref.label }}</label>
      {{ form.recipe_ref }}
  </div>
  <div class="form-group">
      <label>{{ form.time_needed.label }} (in minutes) </label>
      {{ form.time_needed }}
  </div>
  <div class="form-group">
      <label>Directions/Notes</label>
      {{ form.notes }}
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
</form>

{% endblock %}